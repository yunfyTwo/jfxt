<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>更多</title>
    <link rel="stylesheet" href="css/weui.min.css">
    <link rel="stylesheet" href="css/jquery-weui.css">
    <link rel="stylesheet" href="css/demos.css">
    <link rel="stylesheet" href="css/icon.css">
    <script src="js/jquery-2.1.4.js"></script>
    <script src="js/fastclick.js"></script>
    <script src="js/zepto.min.js"></script>
    <script src="js/swipe.js"></script>
    <script src="js/common.js"></script>
    <script src="js/back.js"></script>
    <script src="js/f2.js"></script>
</head>
<body ontouchstart>
	
	<div class="weui_btn_primary weui-header ">
		<div class="weui-header-left">
			<a href="index1.html" class="icon icon-109 f-white"></a>
		</div>
		<h1 class="weui-header-title">统计查询</h1>
	</div>
	<div class="kong2"></div>
	<h1 class="demos-title">数量总量统计</h1>
	<!--统计报表-->
	<canvas id="myChart" width="400" height="260"></canvas>
	
    
</body>
<script>
	// F2 对数据源格式的要求，仅仅是 JSON 数组，数组的每个元素是一个标准 JSON 对象。
	//网元信息
	var wyxx;
    $(function (){
        onLoad();
         FastClick.attach(document.body);
    });
    function onLoad() {
    	var jfXx={};
    	var storage = window.localStorage;
        $.post(
            getContextPath()+"/app/jfList",
            jfXx,
            function (data) {
                if(data.code == 1) {
                	//查询成功
                	
                    wyxx = data.data;
                    console.log(data);
                    } else {
                    $.toast(data.msg,'forbidden', 8000);
                }
    //巡检过程           
    var xjgcList;
    $(function (){
        onLoad();
         FastClick.attach(document.body);
    });
    function onLoad() {
    	var jfxjgc={};
    	var storage = window.localStorage;
    	var userId = storage.getItem("loginName");
    	jfxjgc.userId = userId;
        $.post(
            getContextPath()+"/app/xjgcList",
            jfxjgc,
            function (data) {
                if(data.code == 1) {
                	//查询成功
                    xjgcList = data.data;
                    console.log(data);
                } else {
                    $.toast(data.msg,'forbidden', 8000);
                }
     //处罚单
     var cfList;
    $(function (){
        onLoad();
         FastClick.attach(document.body);
    });
    function onLoad() {
    	var jfCf={};
    	var storage = window.localStorage;
    	var userId = storage.getItem("loginName");
    	jfCf.userId = userId;
        $.post(
            getContextPath()+"/app/cfList",
            jfCf,
            function (data) {
                if(data.code == 1) {
                	//查询成功
                    cfList = data.data;
                    console.log(data);
                } else {
                    $.toast(data.msg,'forbidden', 8000);
                }
       //机房整改单
     var jfzgdList;
    $(function (){
        onLoad();
         FastClick.attach(document.body);
    });
    function onLoad() {
    	var jfZg = {};
    	var storage = window.localStorage;
    	var userId = storage.getItem("loginName");
    	jfZg.userId = userId;
        //整改单的列表查询
        $.post(
            getContextPath() + "/app/zgList",
            jfZg,
            function (data) {
                if (data.code == 1) {
                    //查询成功
                    jfzgdList = data.data;
                    console.log(data);
                   }else{
                    $.toast(data.msg, 'forbidden', 8000);
                }
      //线路整改单
    var xlzgdList;
    var xlzgdList2;
    $(function (){
        onLoad();
         FastClick.attach(document.body);
    });
    function onLoad() {
    	var jfxlZg = {};
    	var storage = window.localStorage;
    	var userId = storage.getItem("loginName");
    	jfxlZg.userId = userId;
        //整改单的列表查询
        $.post(
            getContextPath() + "/app/xlzgdList",
            jfxlZg,
            function (data) {
                if (data.code == 1) {
                    //查询成功
                    xlzgdList = data.data;
                    console.log(data);
                }else {
                    $.toast(data.msg, 'forbidden', 8000);
                }
  
                
	const tjcx = [{
			genre: '网元信息（全市）',
			sold: wyxx.length
		},
		{
			genre: '巡检过程',
			sold: xjgcList.length
		},
		{
			genre: '处罚单',
			sold: cfList.length
		},
		{
			genre: '机房整改单',
			sold: jfzgdList.length
		},
		{
			genre: '线路整改单',
			sold: xlzgdList.length
		},
	];

	// Step 1: 创建 Chart 对象
	const chart = new F2.Chart({
		id: 'myChart',
		pixelRatio: window.devicePixelRatio // 指定分辨率
	});

	// Step 2: 载入数据源
	chart.source(tjcx);

	// Step 3：创建图形语法，绘制柱状图，由 genre 和 sold 两个属性决定图形位置，genre 映射至 x 轴，sold 映射至 y 轴
	chart.interval().position('genre*sold').color('genre');

	// Step 4: 渲染图表
	chart.render();
	
	
	
	});
    }
	
	});
    }
	
	});
    }
	
	
	});
    }
    
	
    });
    }
   
</script>







</html>
